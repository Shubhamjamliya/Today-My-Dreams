# Refactoring Migration Plan: Module-Based Structure

**Goal:** robustly reorganize the User, Seller, and Admin functionality into distinct modules to improve maintainability, without breaking the application.

> [!WARNING]
> **Risk of Breakage:** Moving files changes their paths. This will break `import` statements. This plan is designed to minimize downtime by moving one module at a time.

## Migration Strategy
We will move components in **Phases**, starting with the dependencies (Shared/Core) and ending with the main application logic.

### Phase 1: The Foundation (Shared & Core)
*Goal: Move things that everyone uses.*
1.  **Frontend:**
    *   Create `Frontend/src/modules/Shared`.
    *   Move `Frontend/src/components` (Global ones like Header, Footer, Loader) -> `modules/Shared/components`.
    *   Move `Frontend/src/context` -> `modules/Shared/context`.
    *   *Action:* Update config and imports in `App.jsx`.
2.  **Backend:**
    *   Create `Backend/core` directory.
    *   Move `models/*.js` -> `Backend/core/models/`.
    *   Move `middleware/*.js` -> `Backend/core/middleware/`.
    *   *Action:* Global find-and-replace for `require('../models/...')` to `require('../core/models/...')`.

### Phase 2: The Seller Module (Independent)
*Goal: Move the Vendor Dashboard, which is relatively isolated.*
1.  **Frontend:**
    *   Create `Frontend/src/modules/Seller`.
    *   Move `pages/Seller*.jsx`, `pages/BecomeSeller.jsx` -> `modules/Seller/pages/`.
    *   Move seller-specific components -> `modules/Seller/components/`.
2.  **Backend:**
    *   Create `Backend/modules/Seller`.
    *   Move `routes/seller.js`, `routes/withdrawal.js` -> `Backend/modules/Seller/routes/`.
    *   Move related controllers -> `Backend/modules/Seller/controllers/`.

### Phase 3: The User Module (The Core Shop)
*Goal: Move the main shopping experience.*
1.  **Frontend:**
    *   Create `Frontend/src/modules/User`.
    *   Move `pages/Home.jsx`, `Shop.jsx`, `ProductView.jsx`, `Checkout.jsx` -> `modules/User/pages/`.
    *   Move product/hero components -> `modules/User/components/`.
2.  **Backend:**
    *   Create `Backend/modules/User` and `Backend/modules/Shop`.
    *   Move Shop/Order routes -> `Backend/modules/Shop/routes/`.
    *   Move Auth/Cart routes -> `Backend/modules/User/routes/`.

### Phase 4: Admin & Cleanup
1.  **Backend:** Move Admin specific routes to `Backend/modules/Admin`.
2.  **Cleanup:** Remove empty folders (`Frontend/src/pages`, `Backend/controllers`, etc.).

## Verification Checklist (Per Phase)
For each phase, we will:
1.  **Build Check:** Run `npm run dev` in both folders. Log output to ensure no "Module not found" errors.
2.  **Smoke Test:**
    *   **Phase 1:** Homepage loads? Header links work?
    *   **Phase 2:** Can access `/dashboard`?
    *   **Phase 3:** Can view products and add to cart?

## Rollback Plan
Since we are using Git (implied by `.gitignore`), if a phase fails badly:
1.  Discard changes to restore original file locations.
